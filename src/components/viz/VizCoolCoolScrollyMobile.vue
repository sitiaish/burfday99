<template>
  <div class="scrolly-overlay-insults">
    <div class="scrolly__sticky">  
      <div class="text-block" v-show="stepCool === 0" >
        <h3 class="text--h2 mb-16 scroll-prompt text-center">The times they said cool cool</h3>

        <iframe style="margin-left: auto; margin-right: auto; display: block;" width="560" height="315" class="youtube-iframe my-8" src="https://www.youtube.com/embed/zDcbpFimUc8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>  
      </div>

      <!-- {{stepCool}} -->
      <p class="cool-text text--header" v-show="stepCool >= 1">COOL</p>
      <p class="cool-text text--header" v-show="stepCool >= 1">COOL</p>

      <p class="cool-text text--header" v-show="stepCool >= 2">COOL</p>

      <p class="cool-text text--header" v-show="stepCool >= 4">COOL</p>
      <p class="cool-text text--header" v-show="stepCool >= 4">COOL</p>
      <p class="cool-text text--header" v-show="stepCool >= 4">COOL</p>
      <p class="cool-text text--header" v-show="stepCool >= 4">COOL</p>

      <p class="cool-text text--header" v-show="stepCool >= 5">COOL</p>
      <p class="cool-text text--header" v-show="stepCool >= 5">COOL</p>
      <p class="cool-text text--header" v-show="stepCool >= 5">COOL</p>

      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>     
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>  
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>     
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>       
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>     
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>  
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>     
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>  
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>     
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>       
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>     
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>
      <p class="cool-text-many text--header" v-show="stepCool >= 6">COOL</p>            


    </div>

    <div class="scrolly__content">
      <div class="step" data-step="0">
        <div class="text-block">
          <p class="text--body-3">
            Is it a real compliment? A coping mechanism? Something to fill the silence? Whatever it is, the cool-chain has become part of what we love about the Nine-Nine. No doubt, no doubt.
          </p>                    
        </div>
      </div>

      <div class="step" data-step="1">
        <img src="02x03_side_edit.png" width="100%" />
      </div>


      <div class="step" data-step="1">
        <div class="text-block">
          <p class="text--body-1 font-weight-bold">2 Cools: S02E03 - The Jimmy Jab Games</p>
          <p class="text--body-3">
            Well, well, well. Turns out the first ever "Cool, cool." was said by Boyle during his attempt to retrieve the tape in the department video camera from Hitchcock. This was more of a slow serious "cool, cool" meant to mask Boyle's frantic attempt to conceal evidence of Boyle and Gina's sexcapade.
          </p>
          <img class="cool-img" src="02x03_coolcool.png" width="60%"/>
        </div>
      </div>      

      <div class="step" data-step="2">
        <img src="03x08_side_edit.png" width="100%"/>
      </div>

      <div class="step" data-step="2">
        <div class="text-block">
          <p class="text--body-1 font-weight-bold">3 Cools: S03E08 - Ava</p>
          <p class="text--body-3">
            Jake rattles off three "cool"s in sweet succession as he calmly handles Sharon's childbirth and proceeds to summon her vaginal Gandalf aka doula, which is a thing that he definitely know what it is.
          </p>
          <img class="cool-img" src="03x08_coolcoolcool.png" width="70%" />             
        </div>
      </div>      

      <div class="step" data-step="3">
        <div class="text-block">
          <p class="text--body-1 font-weight-bold">3 Cools (worried ver.): S05E20 - Show Me Going</p>
          <p class="text--body-3">
            In response to the name of Det. Brett Booth, Jake nonchalently utters, "Cool, cool, cool." But best-bud-Boyle notices that (UH-OH!) that was Jake's worried "cool, cool, cool."
          </p>
          <img class="cool-img" src="05x20_coolcoolcool.png" width="65%"/>
        </div>
      </div>

      <div class="step" data-step="4">
        <div class="text-block">
          <p class="text--body-1 font-weight-bold">7 Cools: S02E10 - The Pontiac Bandit Returns</p>
          <p class="text--body-3">
            Some might call this the first official cool-cool-cool, as Jake goes undercover with Rosa and a string of seven "cool"s camouflages his nervousness in the presence of Tito Ruiz.
          </p>
          <img class="cool-img" src="02x10_coolcool.png" width="50%"/>
        </div>
      </div>

      <div class="step" data-step="5">
        <div class="text-block">
          <img src="06x12_side2_edit.png" width="80%" />
          <p class="text--body-1 font-weight-bold">10 Cools: S06E12 - Casecation</p>
          <p class="text--body-2"><em>"I don't know that I totally know that I for sure want to have kids, so..."</em></p>
          <p class="text--body-3">
            Oh lord, we sank right into the deep end of the cool-pool here! What follows is an intense debate over this major life decision between Amy (taking the affirmative) and Jake (taking the negative), judged by none other than Captain Raymond Holt (debate moderator license D810Y41JJ6).
          </p>
        </div>
      </div>

      <div class="step" data-step="5">
        <div class="text-block">
          <p class="text--body-3">
            Still, they did end up making the world's hottest baby by the end of season 7 (S07E13 - Lights Out) - aka McClane "Mac" Peralta-Santiago.
          </p>
          <img class="cool-img" src="07x13_baby.png" />
        </div>
      </div>      

      <div class="step" data-step="6">
        <div class="text-block">
          <img src="02x11_charles_edit.png" width="50%" />

          <p class="text--body-1 font-weight-bold">Many Many Cools</p>
          <p class="text--body-3">
            Yeah well we're definitely not counting these, but uncountable cool-chains include:
          </p>
          <p class="text--body-1 font-weight-bold">S02E11 - Stakeout</p>
          <p class="text--body-3">
            Peralta and Boyle both fire off some cool-chains over their no-no lists.
          </p>
          <p class="text--body-1 font-weight-bold">S03E12 - 9 Days</p>
          <p class="text--body-3">
            Captain Holt and Peralta finding extreme testicular discomfort very very cool.
          </p>
        </div>
      </div>   

      <div class="step" data-step="6">
        <div class="text-block">
          <p class="text--body-1 font-weight-bold">...and these</p>
          <p class="text--body-1 font-weight-bold">S04E22 - Crime &amp; Punishment</p>
          <p class="text--body-3">
            Season 4 ends with lots of "cool"s as Jake gets sentenced to jailtime!
          </p>
          <p class="text--body-1 font-weight-bold">S06E10 - Gintars</p>
          <p class="text--body-3">
            Boyle machine-guns "cool"s and faints upon meet Nikolaj's birth father.
          </p>
        </div>
      </div>               
    </div>
  </div> 
</template>

<script>
import * as d3 from 'd3';
import scrollama from 'scrollama';

export default {
  name: 'VizWuntchHoltInsults',
  data() {
    return {
      count: [
        { id: '1', type: 'fantasy', holt1: 0, holt5: 4, wuntch1: 3, wuntch5: 0 },
        { id: '2', type: 'work', holt1: 0, holt5: 0, wuntch: 1, wuntch5: 1 },
        { id: '3', type: 'physical', holt1: 3, holt5: 1, wuntch: 1, wuntch5: 1 },
        { id: '4', type: 'animal', holt1: 0, holt5: 3, wuntch: 4, wuntch5: 0 },
        { id: '5', type: 'others', holt1: 2, holt5: 2, wuntch: 3, wuntch5: 0 },
      ], 
      stepCool: 1,
    };
  },
  mounted() {
    // this.initViz();
    this.initScrollama();    
  },  
  methods: {
    initScrollama() {
      // instantiate scrollama
      const scrollerDesktop1 = scrollama();

      const stepH = Math.floor(window.innerHeight * 0.9);
      d3.selectAll('.step').style("height", stepH + "px");

      // setup scrollama
      scrollerDesktop1.setup({
        container: '.scrolly-overlay-insults',
        graphic: '.scrolly-overlay-insults .scrolly__sticky',
        step: '.scrolly-overlay-insults .scrolly__content .step', // required
        offset: 0.55,
        debug: false,
      })
      .onStepEnter(this.handleStepEnter)
    },
    handleStepEnter({ element }) {
      const step = d3.select(element).attr('data-step');
      this.stepCool = +step;
    },    
  },
}
</script>

<style lang="scss" scoped>

.scrolly-overlay {
  max-width: 100%;
}

img.cool-img {
  width: 300px;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.scroll-prompt {
  position: relative;
}

.scroll-prompt:after {
  content: 'ðŸ˜Ž';
  position: absolute;
  top: calc(100% + 8px);
  bottom: -48px;
  left: 50%;
  border-top: 4px solid #2e2e2e;
  transform: translate(-50%);
}

.text-block {
  background-color: white;
  color: #2E2E2E;
  padding: 24px;
  min-width: 235px;
  @media #{map-get($display-breakpoints, 'sm-and-down')} {
    width: 90%;
    padding: 12px;
    margin: 0 auto;
  }       

  img {
    display: block;
    margin: 0 auto;
  }
}

.scrolly__content {
  position: relative;
  padding: 0 1rem;
  width: 100%;
}

.step {
  margin: 0 auto 2rem auto;
  display: flex;
  justify-content: center;
  align-items: center;    
  @media #{map-get($display-breakpoints, 'sm-and-down')} {
    margin: 0 auto 2.5rem auto;
  }         
}

.scrolly__sticky {
  justify-content: center;  
  align-items: center;
  position: sticky;
  top: calc(64px + 12px);
  z-index: 0;
  height: calc(100vh - 64px);
}

.wuntch-holt-insults-intro {
  position: relative;
  top: -25%;
  left: 50%;
  transform: translate(-50%, -50%);
  
  iframe {
    display: block;
    margin: 0 auto;
  }
}

.highlight-holt {
  background-color: #FFF600;
  color: #2e2e2e
}

.highlight-wuntch {
  background-color: #4336A7;
  color: white;
}

.youtube-iframe {
  width: 535px;
  display: block;
  margin: 0 auto;  
  height: 315px;
  @media #{map-get($display-breakpoints, 'sm-and-down')} {
    width: 100%;
  }      
}

.cool-text{
  display: inline-block;
  margin-right: 24px;
  font-size: 72px;
}

.cool-text-many{
  display: inline-block;
  margin-right: 8px;
  font-size: 24px;
  line-height: 1.3px;
}


.cool-scroll-prompt {
  position: relative;
}

.cool-scroll-prompt:after {
  content: 'ðŸ˜Ž';
  position: absolute;
  top: calc(100% + 8px);
  bottom: -48px;
  left: 50%;
  border-top: 4px solid #2e2e2e;
  transform: translate(-50%);
}
</style>